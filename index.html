<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viagem Justa - Gestão de Gastos Colaborativos</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="header-content">
                <h1><i class="fas fa-plane"></i> Viagem Justa</h1>
                <p class="subtitle">Gerencie gastos de viagens de forma colaborativa e justa</p>
            </div>
            <div class="storage-status" id="storageStatus">
                <i class="fas fa-database"></i>
                <span>Dados armazenados localmente</span>
            </div>
        </header>

        <nav class="main-nav">
            <button class="nav-btn active" data-section="trips">
                <i class="fas fa-suitcase"></i> Viagens
            </button>
            <button class="nav-btn" data-section="travelers">
                <i class="fas fa-users"></i> Participantes
            </button>
            <button class="nav-btn" data-section="expenses">
                <i class="fas fa-receipt"></i> Gastos
            </button>
            <button class="nav-btn" data-section="settlements">
                <i class="fas fa-calculator"></i> Acertos
            </button>
            <button class="nav-btn" data-section="summary">
                <i class="fas fa-chart-pie"></i> Resumo
            </button>
            <div class="nav-actions">
                <button id="exportData" class="action-btn" title="Exportar dados">
                    <i class="fas fa-download"></i>
                </button>
                <button id="importData" class="action-btn" title="Importar dados">
                    <i class="fas fa-upload"></i>
                </button>
                <button id="clearData" class="action-btn danger" title="Limpar todos os dados">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </nav>

        <main class="main-content">
            <!-- Seção de Viagens -->
            <section id="tripsSection" class="content-section active">
                <div class="section-header">
                    <h2><i class="fas fa-suitcase"></i> Minhas Viagens</h2>
                    <button id="createTripBtn" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Nova Viagem
                    </button>
                </div>
                <div id="tripsList" class="cards-container"></div>
                <div id="tripDetail" class="detail-view hidden"></div>
            </section>

            <!-- Seção de Participantes -->
            <section id="travelersSection" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-users"></i> Participantes</h2>
                    <button id="createTravelerBtn" class="btn btn-primary">
                        <i class="fas fa-user-plus"></i> Novo Participante
                    </button>
                </div>
                <div id="travelersList" class="cards-container"></div>
            </section>

            <!-- Seção de Gastos -->
            <section id="expensesSection" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-receipt"></i> Gastos</h2>
                    <div class="section-actions">
                        <select id="tripFilter" class="form-select">
                            <option value="">Todas as viagens</option>
                        </select>
                        <button id="createExpenseBtn" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Novo Gasto
                        </button>
                    </div>
                </div>
                <div id="expensesList" class="table-container"></div>
            </section>

            <!-- Seção de Acertos -->
            <section id="settlementsSection" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-calculator"></i> Acertos Financeiros</h2>
                    <select id="settlementsTripFilter" class="form-select">
                        <option value="">Selecione uma viagem</option>
                    </select>
                </div>
                <div id="settlementsView"></div>
            </section>

            <!-- Seção de Resumo -->
            <section id="summarySection" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-chart-pie"></i> Resumo Financeiro</h2>
                    <select id="summaryTripFilter" class="form-select">
                        <option value="">Selecione uma viagem</option>
                    </select>
                </div>
                <div id="summaryView"></div>
            </section>
        </main>

        <!-- Modais -->
        <div id="modalOverlay" class="modal-overlay hidden"></div>

        <!-- Modal de Viagem -->
        <div id="tripModal" class="modal hidden">
            <div class="modal-header">
                <h3 id="tripModalTitle">Nova Viagem</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="tripForm">
                    <input type="hidden" id="tripId">
                    <div class="form-group">
                        <label for="tripName">Nome da Viagem *</label>
                        <input type="text" id="tripName" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tripDestination">Destino</label>
                            <input type="text" id="tripDestination">
                        </div>
                        <div class="form-group">
                            <label for="tripCurrency">Moeda</label>
                            <select id="tripCurrency" required>
                                <option value="BRL">BRL (R$)</option>
                                <option value="USD">USD ($)</option>
                                <option value="EUR">EUR (€)</option>
                                <option value="GBP">GBP (£)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tripStartDate">Data de Início</label>
                            <input type="date" id="tripStartDate">
                        </div>
                        <div class="form-group">
                            <label for="tripEndDate">Data de Fim</label>
                            <input type="date" id="tripEndDate">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="tripStatus">Status</label>
                        <select id="tripStatus">
                            <option value="planning">Planejamento</option>
                            <option value="active">Em Andamento</option>
                            <option value="completed">Concluída</option>
                            <option value="cancelled">Cancelada</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tripDescription">Descrição</label>
                        <textarea id="tripDescription" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary modal-close">Cancelar</button>
                <button type="submit" form="tripForm" class="btn btn-primary">Salvar</button>
            </div>
        </div>

        <!-- Modal de Participante -->
        <div id="travelerModal" class="modal hidden">
            <!-- Similar ao modal de viagem -->
        </div>

        <!-- Modal de Gasto -->
        <div id="expenseModal" class="modal modal-lg hidden">
            <!-- Formulário detalhado para gastos -->
        </div>

        <!-- Import/Export Modal -->
        <div id="importExportModal" class="modal hidden">
            <div class="modal-header">
                <h3>Gerenciar Dados</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="export">Exportar</button>
                    <button class="tab-btn" data-tab="import">Importar</button>
                </div>
                <div id="exportTab" class="tab-content active">
                    <p>Copie o JSON abaixo para fazer backup dos seus dados:</p>
                    <textarea id="exportDataText" readonly rows="10"></textarea>
                    <button id="copyExportBtn" class="btn btn-secondary">
                        <i class="fas fa-copy"></i> Copiar JSON
                    </button>
                </div>
                <div id="importTab" class="tab-content">
                    <p>Cole o JSON com os dados para importar:</p>
                    <textarea id="importDataText" rows="10" placeholder="Cole o JSON aqui..."></textarea>
                    <p class="warning-text">
                        <i class="fas fa-exclamation-triangle"></i>
                        Isso substituirá todos os dados atuais.
                    </p>
                    <button id="importConfirmBtn" class="btn btn-danger">
                        <i class="fas fa-file-import"></i> Importar Dados
                    </button>
                </div>
            </div>
        </div>

        <footer class="app-footer">
            <p>Viagem Justa &copy; 2024 - Todos os dados são armazenados localmente no seu navegador</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="scripts/data/models.js"></script>
    <script src="scripts/data/storage.js"></script>
    <script src="scripts/data/helpers.js"></script>
    <script src="scripts/modules/trips.js"></script>
    <script src="scripts/modules/travelers.js"></script>
    <script src="scripts/modules/expenses.js"></script>
    <script src="scripts/modules/settlements.js"></script>
    <script src="scripts/ui/components.js"></script>
    <script src="scripts/ui/trips-ui.js"></script>
    <script src="scripts/ui/travelers-ui.js"></script>
    <script src="scripts/ui/expenses-ui.js"></script>
    <script src="scripts/ui/settlements-ui.js"></script>
    <script src="scripts/app.js"></script>
</body>
</html>